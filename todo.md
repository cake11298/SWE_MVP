# Unity 3D 調酒遊戲開發計劃 - Claude 開發指南

## 🎯 當前版本目標
將 Three.js 網頁版調酒遊戲完整移植到 Unity，並提升視覺效果和遊戲體驗。

## 📋 待完成功能清單

### 1. 🥤 液體顯示系統 [高優先級]
- [x] 基礎液體顯示
- [x] **動態液體高度顯示**
  - [x] 根據倒入量即時更新液體高度
  - [x] 液體混合顏色即時計算
  - [x] 倒酒時的液體流動動畫
  - [x] 液體表面波動效果
- [ ] **改進液體著色器**
  - [ ] 實現真實的液體折射效果
  - [ ] 添加液體表面反射
  - [ ] 泡沫和氣泡效果（啤酒、汽水）
  - [ ] 液體分層效果（雞尾酒層次）

### 2. 🎨 視覺效果提升 [高優先級]
- [ ] **材質和貼圖改進**
  - [ ] PBR材質升級（金屬、木材、玻璃）
  - [ ] 高解析度貼圖製作
  - [ ] 法線貼圖和粗糙度貼圖
  - [ ] 環境反射探針設置
- [ ] **場景美化**
  - [ ] 動態陰影和全局光照
  - [ ] 後處理效果（景深、色調映射、泛光）
  - [ ] 粒子效果（煙霧、塵埃、光束）
- [ ] **酒瓶和杯子視覺**
  - [ ] 透明玻璃材質改進
  - [ ] 酒瓶標籤設計
  - [ ] 冰塊模型和效果

### 3. 🎮 核心遊戲機制 [最高優先級]
- [x] **計分系統 (ScoreManager)**
  - [x] 基礎分數追蹤
  - [x] 給NPC送酒功能（F鍵）
  - [x] NPC評分機制完善 (使用幾何距離判定 酒的成功程度 例如 威士忌 + 伏特加 變成 伏特加 + 琴酒 則只缺一樣，用最近幾何距離算。 誤差不超過 10% 都算滿分，往下則遞減給分(錢幣))
  - [x] 金幣系統 (積分 由NPC評分後給的金幣 預設都是一杯酒 300 金幣)
- [ ] **NPC互動升級**
  - [ ] NPC點單系統
  - [ ] NPC耐心值條 (當詢問 NPC 後 只會有2分的等待做好時間)
  - [ ] 特殊要求（加冰 少糖 多點酸 等）

### 4. 🎯 互動系統改進 [高優先級]
- [ ] **物品放置修正**
  - [ ] 記錄每個物品的原始位置
  - [ ] R鍵：放回原始位置
  - [ ] Q鍵：原地放下物品
  - [ ] 物品放置預覽（半透明顯示）
  - [ ] 智能吸附點（桌面、架子）
- [ ] **操作優化**
  - [ ] 倒酒精準度提升
  - [ ] 搖酒器互動改進 (目前無互動功能)

### 5. 🍹 調酒系統完善
- [ ] **配方系統**
  - [ ] 完整配方資料庫
  - [ ] 配方書UI（按Tab查看）
- [ ] **調製機制**
  - [ ] 攪拌動作
  - [ ] 裝飾物系統（檸檬片、櫻桃）
  - [ ] 溫度系統（冰鎮、加熱 預設所有的酒都是倒出為 25度 冰塊需另外做模型 放在吧檯上）

### 6. 🎵 音效和音樂 (如果可以自己抓free asset 就claude去安裝 然後適配遊戲)
- [ ] **環境音效**
  - [ ] 背景音樂循環
  - [ ] 酒吧環境音（談話聲、音樂）
  - [ ] 動態音量調整
- [ ] **互動音效**
  - [ ] 倒酒聲音
  - [ ] 玻璃碰撞聲
  - [ ] 搖酒聲
  - [ ] 冰塊聲音
  - [ ] NPC對話語音

### 7. 📊 進度和成就系統
- [ ] **成就系統**
  - [ ] 速度挑戰成就 (一分鐘內出三杯酒給NPC)
  - [ ] 收集類成就 (所有商店的酒都買到最高級)

### 8. 💾 存檔和設置
- [ ] **設置選單**
  - [ ] 圖形品質選項
  - [ ] 音量控制
  - [ ] 按鍵自定義
  - [ ] 語言切換
  - [ ] 遊戲模式參考黃金礦工(單一一次通關)

## 📅 開發階段

### 第一階段（本週）
1. ✅ 修復液體顯示問題
2. ✅ 改進材質和貼圖
3. ⬜ 實現給NPC送酒和評分系統
4. ⬜ 修復物品放置問題（Q/R鍵）

### 第二階段（下週）
1. 完善NPC互動和點單系統
2. 添加音效系統
3. 實現配方書UI
4. 優化倒酒精準度

### 第三階段
1. 進度和成就系統
2. 存檔功能
3. 設置選單
4. 最終優化和打磨

## 🐛 已知問題
- [x] 液體倒入後不顯示
- [x] 物品返回位置錯誤
- [ ] 倒酒角度檢測過於嚴格
- [ ] NPC對話框有時不消失
- [ ] 某些情況下物品會穿透桌面

## 📝 備註
- 保持與原版Three.js遊戲的核心玩法一致
- 重點提升視覺效果和操作手感
- 確保新手友好，添加教學引導
- 考慮後續擴展性（DLC、多人模式）

---
最後更新：2024-11-23
